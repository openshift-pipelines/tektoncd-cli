From b440dbe2e082650ac03056fb15adc9e1cd85f37e Mon Sep 17 00:00:00 2001
From: Vibhav Bobade <vibhav.bobde@gmail.com>
Date: Sun, 8 Feb 2026 03:39:35 +0530
Subject: [PATCH] Downgrade go directive to 1.22 for RHEL 8 buildroot compat

The brew buildroot (pipelines-1.15-rhel-8-override) only has Go 1.22.
x/crypto v0.35.0 and x/oauth2 v0.27.0 declare go 1.23.0 in their
go.mod, but neither uses Go 1.23 language features in the vendored
code. Patch the go directive in go.mod and vendor/modules.txt to
allow building with Go 1.22 under GOTOOLCHAIN=local.

Signed-off-by: Vibhav Bobade <vibhav.bobde@gmail.com>
---
 go.mod             | 4 ++--
 vendor/modules.txt | 4 ++--
 2 files changed, 4 insertions(+), 4 deletions(-)

diff --git a/go.mod b/go.mod
index 582c641..a34d5a4 100644
--- a/go.mod
+++ b/go.mod
@@ -1,8 +1,8 @@
 module github.com/tektoncd/cli

-go 1.23.0
+go 1.22.0

-toolchain go1.24.6
+toolchain go1.22.2

 require (
 	github.com/AlecAivazis/survey/v2 v2.3.7
diff --git a/vendor/modules.txt b/vendor/modules.txt
index 21f9137..7cf537e 100644
--- a/vendor/modules.txt
+++ b/vendor/modules.txt
@@ -1785,7 +1785,7 @@ gocloud.dev/docstore/mongodocstore
 ## explicit; go 1.21.0
 gocloud.dev/pubsub/kafkapubsub
 # golang.org/x/crypto v0.35.0
-## explicit; go 1.23.0
+## explicit; go 1.22.0
 golang.org/x/crypto/argon2
 golang.org/x/crypto/blake2b
 golang.org/x/crypto/blowfish
@@ -1843,7 +1843,7 @@ golang.org/x/net/internal/timeseries
 golang.org/x/net/proxy
 golang.org/x/net/trace
 # golang.org/x/oauth2 v0.27.0
-## explicit; go 1.23.0
+## explicit; go 1.22.0
 golang.org/x/oauth2
 golang.org/x/oauth2/authhandler
 golang.org/x/oauth2/google
--
2.50.1
